下面我把《开题报告》里的功能**抽象成“可直接喂给 Kiro 的功能清单 + 数据模型 + 页面/API 草案”**，让它更容易按模块生成代码与接口。

---

## 0) 项目定位与技术栈约束（给 Kiro 的前提）

* 项目：**基于 Spring Boot 的计科考研江苏择校管理系统** 
* 技术栈：Windows + IntelliJ IDEA / VS Code + MySQL + 前端 Vue + 后端 Spring Boot 

---

## 1) 角色与权限（RBAC 最小可落地）

* 角色：

  * **USER（普通用户）**
  * **ADMIN（管理员）**
* 权限边界：

  * USER：个人档案、院校查询、收藏、讨论、提交反馈
  * ADMIN：用户管理、院校信息管理、公告管理、反馈管理 

---

## 2) 用户端功能清单（模块 → 用户故事 → 必要字段）

来自开题报告“用户端”五项功能 

### A. 个人档案 Profile

**用户故事**

* 作为用户，我可以填写/修改个人信息，用于择校决策依据与推荐/统计展示。

**建议字段（最小）**

* undergradTier（本科学校层次：985/211/双非/其它）
* gpa + gpaScale（绩点及计分标准说明）
* cet4Score、cet6Score（四六级）
* targetScore（考研分数预期/估分）
* otherScores（可扩展：数学/英语/政治/专业课分数或描述）

### B. 院校查询 School Search

**用户故事**

* 作为用户，我可以按分数预期、地区偏好、院校层次等条件筛选院校，实现精准定位。

**筛选条件（建议）**

* region（地区：江苏内城市/地区标签）
* schoolTier（院校层次）
* expectedScoreRange（分数预期区间）
* major / direction（专业方向）
* ratio / cutoff（报录比、分数线等，若数据有）

### C. 院校管理（收藏/意向清单）Favorites

**用户故事**

* 作为用户，我可以一键收藏院校形成清单，并快速查看院校核心信息。

**收藏后展示的“院校核心信息”**

* 院校层次、招生数据、考试科目、复试要求等 

### D. 院校讨论 Comments/Discussion

**用户故事**

* 每所院校详情页有评论区：可发评论/回复，交流招生政策、备考难度、复试体验等。

**基础能力**

* 发布评论、分页查看、（可选）点赞/举报、管理员可删除违规

### E. 用户反馈 Feedback

**用户故事**

* 用户可提交使用问题/功能建议/数据纠错；管理员可查看、回复、标记处理状态。

**反馈字段（建议）**

* type（BUG/建议/数据纠错）
* content
* status（NEW/PROCESSING/DONE）
* adminReply
* attachments（可选）

---

## 3) 管理员端功能清单（模块 → 操作）

来自开题报告“管理员端”四项功能 

### A. 用户信息管理 Users

* 查看/筛选注册用户
* 启用/禁用账号
* 密码重置
* 管理管理员账号及权限分配（RBAC）

### B. 院校信息管理 Schools

* 院校基础信息 CRUD
* 绑定专业与考试科目 

### C. 系统公告管理 Announcements

* 发布/编辑/删除公告（考研政策、系统维护等）
* 设置展示状态与排序
* 富文本内容 

### D. 用户反馈管理 Feedback Admin

* 查看反馈、筛选搜索
* 回复用户
* 标记处理状态 

---

## 4) “创新点”功能（收藏后统计看板）

开题报告创新点：当用户收藏院校时，基于用户填写信息（本科学校层次、四六级）做统计，并展示比例（如双非占比、四级区间占比）。

**可落地拆解**

* 触发条件：用户对某院校“收藏/取消收藏”
* 统计口径（建议定义清楚，方便实现）：

  * 对“收藏了该院校”的用户集合做分布统计：

    * undergradTier 分布
    * cet4Score 分桶分布（例如：<425、425–500、501–550、551+）
* 展示位置：院校详情页的“收藏者画像/统计”卡片（饼图/柱状图）

---

## 5) 数据模型（Kiro 生成 MySQL/Entity 的依据）

> 下面是**最小表**，能覆盖开题报告全部功能；字段可让 Kiro 自动补充审计字段（createdAt/updatedAt/deleted）。

1. **users**

* id, username, passwordHash, role(USER/ADMIN), status(ENABLED/DISABLED)

2. **user_profile**

* userId(PK/FK), undergradTier, gpa, gpaScale, cet4Score, cet6Score, targetScore, otherScores

3. **schools**

* id, name, city, tier,官网链接/研招链接, intro

4. **majors**（可选但建议有）

* id, schoolId, name, direction

5. **exam_subjects**

* id, schoolId, majorId(nullable), subjectName, subjectCode(optional)

6. **school_requirements**（复试/要求/规则）

* id, schoolId, majorId(nullable), content(richtext/markdown), updatedBy

7. **favorites**

* id, userId, schoolId, createdAt（用于“收藏者画像”统计集合）

8. **comments**

* id, schoolId, userId, parentId(nullable), content, status(NORMAL/DELETED), createdAt

9. **feedback**

* id, userId, type, content, status, adminReply, repliedAt

10. **announcements**

* id, title, content(richtext), status(DRAFT/PUBLISHED), sortOrder, publishAt

---

## 6) REST API 草案（便于 Kiro 直接生成 Controller）

### 认证与用户

* POST /api/auth/register
* POST /api/auth/login
* GET /api/me
* PUT /api/me/profile

### 院校查询与详情

* GET /api/schools?city=&tier=&expectedScoreMin=&expectedScoreMax=&major=&page=
* GET /api/schools/{id}
* GET /api/schools/{id}/requirements
* GET /api/schools/{id}/subjects

### 收藏

* POST /api/schools/{id}/favorite
* DELETE /api/schools/{id}/favorite
* GET /api/me/favorites

### 创新点统计（收藏画像）

* GET /api/schools/{id}/favorite-stats

  * 返回：undergradTierDistribution、cet4BucketDistribution 

### 讨论区

* GET /api/schools/{id}/comments?page=
* POST /api/schools/{id}/comments
* POST /api/comments/{id}/reply

### 反馈

* POST /api/feedback
* GET /api/me/feedback?page=

### 管理员（/api/admin/**）

* GET /api/admin/users?keyword=&status=&page=
* PATCH /api/admin/users/{id}/status
* POST /api/admin/users/{id}/reset-password
* CRUD /api/admin/schools
* CRUD /api/admin/announcements
* GET /api/admin/feedback?status=&type=&page=
* PATCH /api/admin/feedback/{id}（回复 + 改状态）

---

## 7) 前端页面清单（Vue 路由/组件）

* /login、/register
* /me/profile（个人档案）
* /schools（筛选列表：院校查询）
* /schools/:id（院校详情：核心信息 + 科目 + 复试要求 + 收藏按钮 + 讨论区 + 收藏画像统计） 
* /favorites（我的收藏清单）
* /feedback（提交反馈 + 我的反馈列表）
* /announcements（公告列表/详情）

管理员：

* /admin/users 
* /admin/schools 
* /admin/announcements 
* /admin/feedback 

---

如果你希望我进一步“更适配 Kiro”，你可以告诉我你打算让 Kiro 产出哪种粒度：

* **A：只要功能清单（最短）**
* **B：功能 + 表结构 SQL（可直接建库）**
* **C：功能 + 表结构 + 接口 DTO/VO + 返回示例 JSON（最利于自动写代码）**

我也可以直接按你选的粒度，输出一份**Kiro 友好的 YAML/JSON 规格说明**。
