# 实现计划 - 个人健康管理系统

## 后端实现任务

- [x] 1. 设置SpringBoot项目结构和核心配置




  - 创建SpringBoot 3.X项目，配置Maven依赖（Spring Data JPA、MySQL驱动、Lombok等）
  - 创建application.yml配置文件，配置数据库连接、JPA属性、日志级别为中文输出
  - 创建CORS配置类，允许所有跨域请求
  - _需求: 17, 18_

- [x] 2. 创建数据库表和实体类





  - 编写SQL脚本创建所有数据库表（users、doctors、health_data、consultations、health_advice、audit_logs）
  - 创建User、Doctor、HealthData、Consultation、HealthAdvice、AuditLog实体类
  - 配置JPA注解和表映射关系
  - _需求: 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16_

- [x] 3. 创建Repository层




  - 创建UserRepository接口，实现用户查询方法（按用户名查询、按角色查询等）
  - 创建DoctorRepository接口，实现医师查询方法
  - 创建HealthDataRepository接口，实现健康数据查询方法（按用户、按时间范围等）
  - 创建ConsultationRepository接口，实现咨询查询方法
  - 创建HealthAdviceRepository接口，实现健康建议查询方法
  - 创建AuditLogRepository接口，实现审计日志查询方法
  - _需求: 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16_

- [x] 4. 创建Service层 - 认证与用户管理




  - 创建AuthService类，实现用户注册逻辑（验证用户名唯一性、保存用户到数据库）
  - 实现用户登录逻辑（验证用户名和密码、返回登录状态）
  - 实现医师注册逻辑（验证医师信息、保存医师到数据库）
  - 实现医师登录逻辑
  - 实现管理员登录逻辑
  - _需求: 1, 2, 3_

- [x] 5. 创建Service层 - 用户信息管理




  - 创建UserService类，实现获取用户个人信息方法
  - 实现更新用户个人信息方法（验证信息格式）
  - 实现用户信息查询方法
  - _需求: 4_

- [x] 6. 创建Service层 - 健康数据管理




  - 创建HealthDataService类，实现保存健康数据方法（验证数据范围）
  - 实现获取用户健康数据方法
  - 实现按时间范围查询健康数据方法
  - 实现健康数据统计方法（用于趋势分析）
  - _需求: 5, 6, 7, 8_

- [x] 7. 创建Service层 - 医师与患者管理




  - 创建DoctorService类，实现获取医师患者列表方法
  - 实现获取患者完整档案方法（包含个人信息、健康数据、历史记录）
  - 实现权限检查方法（验证医师是否可以访问患者数据）
  - _需求: 11_

- [x] 8. 创建Service层 - 咨询与建议管理





  - 创建ConsultationService类，实现提交咨询问题方法
  - 实现医师回复咨询方法
  - 实现获取咨询历史方法
  - 创建HealthAdviceService类，实现创建健康建议方法
  - 实现获取患者健康建议方法
  - 实现发送健康建议通知方法
  - _需求: 9, 10, 12, 13_

- [x] 9. 创建Service层 - 管理员功能





  - 创建AdminService类，实现获取所有用户方法
  - 实现修改用户权限方法
  - 实现禁用用户账户方法
  - 实现获取所有医师方法
  - 实现编辑医师信息方法
  - 实现删除医师账户方法
  - 实现获取健康数据统计方法
  - 实现获取审计日志方法
  - _需求: 14, 15, 16_

- [x] 10. 创建Controller层 - 认证接口




  - 创建AuthController类，实现用户注册端点（POST /api/auth/register）
  - 实现用户登录端点（POST /api/auth/login）
  - 实现医师注册端点（POST /api/auth/doctor/register）
  - 实现医师登录端点（POST /api/auth/doctor/login）
  - 实现管理员登录端点（POST /api/auth/admin/login）
  - 实现登出端点（POST /api/auth/logout）
  - _需求: 1, 2, 3_

- [x] 11. 创建Controller层 - 用户接口





  - 创建UserController类，实现获取个人信息端点（GET /api/users/profile）
  - 实现更新个人信息端点（PUT /api/users/profile）
  - 实现获取用户列表端点（GET /api/users）- 仅管理员
  - _需求: 4, 14_

- [x] 12. 创建Controller层 - 健康数据接口





  - 创建HealthDataController类，实现提交健康数据端点（POST /api/health-data）
  - 实现获取用户健康数据端点（GET /api/health-data）
  - 实现获取健康趋势端点（GET /api/health-data/trends）
  - 实现按时间范围查询端点（GET /api/health-data/range）
  - _需求: 5, 6, 7, 8_

- [x] 13. 创建Controller层 - 医师接口





  - 创建DoctorController类，实现获取患者列表端点（GET /api/doctors/patients）
  - 实现获取患者档案端点（GET /api/doctors/patients/{patientId}）
  - 实现获取所有医师端点（GET /api/doctors）- 仅管理员
  - _需求: 11, 15_

- [x] 14. 创建Controller层 - 咨询接口





  - 创建ConsultationController类，实现提交咨询端点（POST /api/consultations）
  - 实现获取咨询列表端点（GET /api/consultations）
  - 实现医师回复咨询端点（PUT /api/consultations/{id}/answer）
  - 实现获取咨询详情端点（GET /api/consultations/{id}）
  - _需求: 9, 10, 12_

- [x] 15. 创建Controller层 - 健康建议接口




  - 创建HealthAdviceController类，实现创建健康建议端点（POST /api/health-advice）
  - 实现获取患者健康建议端点（GET /api/health-advice/patient/{patientId}）
  - 实现获取我的健康建议端点（GET /api/health-advice/my-advice）
  - _需求: 13_

- [x] 16. 创建Controller层 - 管理员接口




  - 创建AdminController类，实现获取用户列表端点（GET /api/admin/users）
  - 实现修改用户权限端点（PUT /api/admin/users/{id}/role）
  - 实现禁用用户端点（PUT /api/admin/users/{id}/status）
  - 实现获取医师列表端点（GET /api/admin/doctors）
  - 实现编辑医师信息端点（PUT /api/admin/doctors/{id}）
  - 实现删除医师端点（DELETE /api/admin/doctors/{id}）
  - 实现获取数据统计端点（GET /api/admin/statistics）
  - 实现获取审计日志端点（GET /api/admin/audit-logs）
  - _需求: 14, 15, 16_

- [x] 17. 创建全局异常处理和工具类





  - 创建全局异常处理器，统一处理所有异常并返回中文错误信息
  - 创建响应包装类（ApiResponse），统一API响应格式
  - 创建验证工具类，用于数据验证
  - 创建日志工具类，记录所有操作到审计日志
  - _需求: 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18_

- [x] 18. 编写后端单元测试






  - 编写Service层单元测试（测试业务逻辑）
  - 编写Repository层单元测试（测试数据库操作）
  - 编写验证工具类单元测试
  - _需求: 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16_

- [-] 19. 编写后端集成测试








  - 编写Controller层集成测试（测试API端点）
  - 测试完整的业务流程（用户注册→登录→提交健康数据）
  - 测试权限控制和访问限制
  - _需求: 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16_

## 前端实现任务

- [ ] 20. 设置Vue项目结构和核心配置
  - 创建Vue 3项目，配置npm依赖（Vue Router、Axios等）
  - 创建项目目录结构（components、router、services等）
  - 配置Axios实例，设置API基础URL和请求拦截器
  - 配置国际化为简体中文
  - _需求: 17, 18_

- [ ] 21. 创建登录和注册页面
  - 创建LoginPage.vue组件，实现用户/医师/管理员登录表单
  - 实现表单验证和错误提示
  - 实现登录请求和响应处理
  - 创建RegisterPage.vue组件，实现用户和医师注册表单
  - 实现注册表单验证
  - 实现注册请求和响应处理
  - _需求: 1, 2, 3_

- [ ] 22. 创建用户端布局和导航
  - 创建UserLayout.vue组件，实现顶部导航菜单栏布局
  - 实现菜单项（个人信息、健康数据、健康趋势、常规检查、性别健康、在线咨询、健康历史）
  - 实现用户登出功能
  - 配置路由，将用户端页面关联到UserLayout
  - _需求: 1, 4, 5, 6, 7, 8, 9, 10_

- [ ] 23. 创建医师端布局和导航
  - 创建DoctorLayout.vue组件，实现侧边导航菜单栏布局
  - 实现菜单项（患者列表、患者档案、数据审核、健康建议）
  - 实现医师登出功能
  - 配置路由，将医师端页面关联到DoctorLayout
  - _需求: 2, 11, 12, 13_

- [ ] 24. 创建管理端布局和导航
  - 创建AdminLayout.vue组件，实现侧边导航菜单栏布局
  - 实现菜单项（用户管理、医师管理、数据统计、审计日志）
  - 实现管理员登出功能
  - 配置路由，将管理端页面关联到AdminLayout
  - _需求: 3, 14, 15, 16_

- [ ] 25. 创建用户端 - 个人信息管理页面
  - 创建PersonalInfo.vue组件，显示用户个人信息
  - 实现编辑个人信息表单
  - 实现表单验证和提交
  - 实现API调用获取和更新个人信息
  - _需求: 4_

- [ ] 26. 创建用户端 - 健康数据采集页面
  - 创建HealthDataInput.vue组件，实现健康数据采集表单
  - 实现表单字段（身高、体重、血压、心率、饮食、运动等）
  - 实现数据范围验证
  - 实现API调用提交健康数据
  - _需求: 5_

- [ ] 27. 创建用户端 - 健康趋势分析页面
  - 创建HealthTrend.vue组件，显示健康数据趋势图表
  - 实现图表库集成（如Chart.js或ECharts）
  - 实现时间范围筛选功能
  - 实现健康指标选择功能
  - 实现API调用获取趋势数据
  - _需求: 6_

- [ ] 28. 创建用户端 - 常规健康检查页面
  - 创建HealthCheck.vue组件，实现常规健康检查表单
  - 实现检查项目记录
  - 实现API调用保存检查记录
  - _需求: 7_

- [ ] 29. 创建用户端 - 性别健康监控页面
  - 创建GenderHealth.vue组件，显示性别相关健康数据
  - 实现性别健康数据记录表单
  - 实现隐私保护提示
  - 实现API调用获取和保存性别健康数据
  - _需求: 8_

- [ ] 30. 创建用户端 - 在线咨询页面
  - 创建Consultation.vue组件，实现咨询问题提交表单
  - 实现咨询列表显示（包括问题、回答、状态）
  - 实现咨询详情查看
  - 实现API调用提交咨询和获取咨询列表
  - _需求: 9, 10_

- [ ] 31. 创建用户端 - 健康历史查询页面
  - 创建HealthHistory.vue组件，显示健康历史记录列表
  - 实现按日期、类型筛选功能
  - 实现历史记录详情查看
  - 实现API调用获取历史记录
  - _需求: 10_

- [ ] 32. 创建医师端 - 患者列表页面
  - 创建PatientList.vue组件，显示医师的患者列表
  - 实现患者搜索和筛选功能
  - 实现点击患者进入患者档案
  - 实现API调用获取患者列表
  - _需求: 11_

- [ ] 33. 创建医师端 - 患者档案查看页面
  - 创建PatientRecord.vue组件，显示患者完整档案
  - 实现显示患者个人信息、健康数据、历史记录
  - 实现权限检查（只能查看自己的患者）
  - 实现API调用获取患者档案
  - _需求: 11_

- [ ] 34. 创建医师端 - 数据审核与反馈页面
  - 创建DataReview.vue组件，实现健康数据审核表单
  - 实现显示患者健康数据
  - 实现添加审核意见和反馈
  - 实现API调用提交审核反馈
  - _需求: 12_

- [ ] 35. 创建医师端 - 健康建议推送页面
  - 创建HealthAdvice.vue组件，实现健康建议创建表单
  - 实现显示已发送的健康建议列表
  - 实现API调用创建和发送健康建议
  - _需求: 13_

- [ ] 36. 创建管理端 - 用户权限管理页面
  - 创建UserManagement.vue组件，显示所有用户列表
  - 实现用户权限修改功能
  - 实现用户账户禁用功能
  - 实现API调用获取用户列表和修改权限
  - _需求: 14_

- [ ] 37. 创建管理端 - 医师信息管理页面
  - 创建DoctorManagement.vue组件，显示所有医师列表
  - 实现医师信息编辑功能
  - 实现医师账户删除功能
  - 实现API调用获取医师列表和修改医师信息
  - _需求: 15_

- [ ] 38. 创建管理端 - 数据统计与分析页面
  - 创建DataStatistics.vue组件，显示系统数据统计信息
  - 实现统计图表（用户数、健康数据数量等）
  - 实现时间范围筛选功能
  - 实现API调用获取统计数据
  - _需求: 16_

- [ ] 39. 创建管理端 - 审计日志页面
  - 创建AuditLog.vue组件，显示系统审计日志
  - 实现日志搜索和筛选功能
  - 实现日志详情查看
  - 实现API调用获取审计日志
  - _需求: 16_

- [ ] 40. 创建路由配置和导航守卫
  - 配置Vue Router路由，定义所有页面的路由路径
  - 实现路由导航守卫，检查用户登录状态和权限
  - 实现根路径重定向到登录页面
  - 实现登录后根据角色重定向到对应的主页面
  - _需求: 1, 2, 3_

- [ ] 41. 创建API服务层
  - 创建api.js文件，定义所有API调用方法
  - 实现认证API（登录、注册、登出）
  - 实现用户API（获取个人信息、更新个人信息等）
  - 实现健康数据API（提交、查询、趋势等）
  - 实现医师API（患者列表、患者档案等）
  - 实现咨询API（提交、回复、查询等）
  - 实现管理员API（用户管理、医师管理、统计等）
  - _需求: 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16_

- [ ] 42. 创建认证服务和状态管理
  - 创建auth.js文件，实现用户认证状态管理
  - 实现登录状态保存（localStorage或sessionStorage）
  - 实现用户信息存储
  - 实现登出功能
  - _需求: 1, 2, 3_

- [ ]* 43. 编写前端单元测试
  - 编写Vue组件单元测试
  - 编写API服务单元测试
  - 编写表单验证单元测试
  - _需求: 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16_

- [ ]* 44. 编写前端集成测试
  - 编写完整的用户流程测试（登录→提交数据→查看结果）
  - 编写医师流程测试（登录→查看患者→提供建议）
  - 编写管理员流程测试（登录→管理用户→查看统计）
  - _需求: 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16_

## 数据库和部署任务

- [ ] 45. 创建数据库初始化脚本
  - 编写SQL脚本创建所有表
  - 编写SQL脚本插入初始管理员账户
  - 编写SQL脚本创建必要的索引
  - _需求: 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16_

- [ ] 46. 配置项目文档和README
  - 编写后端README（项目结构、运行说明、API文档）
  - 编写前端README（项目结构、运行说明、开发指南）
  - 编写系统部署指南
  - _需求: 18_
